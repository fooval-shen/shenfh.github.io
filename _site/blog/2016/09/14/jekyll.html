<!DOCTYPE html>
<html>
  <head>
    <title>jekyll 语法 – shenfh – 苦心人、天不负,卧薪尝胆,三千越甲可吞吴！</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>
   
    
    <meta name="description" content="jekyll 是一个静态网站生成器.它通过标记语言 markdown 或 textile 和 模板引擎 liquid 转换生成网页.

" />
    <meta property="og:description" content="jekyll 是一个静态网站生成器.它通过标记语言 markdown 或 textile 和 模板引擎 liquid 转换生成网页.

" />
    
    <meta name="author" content="shenfh" />

    
    <meta property="og:title" content="jekyll 语法" />
    <meta property="twitter:title" content="jekyll 语法" />
    


    <script>        
        var _czc = _czc || [];       
        _czc.push(["_setAccount", "1260439080"]);
    </script>

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link rel="alternate" type="application/rss+xml" title="shenfh - 苦心人、天不负,卧薪尝胆,三千越甲可吞吴！" href="/feed.xml" />
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
  </head>

  <body>
    
    
    <div class="intro-header">    
      <div class="container">
        <div class="post-heading">
            <h1>jekyll 语法</h1>
            <span class="meta">Posted by <a href="/about"> shefh
            </a> on September 14, 2016
            <a href="/"> { 首页 }</a>
            </span>
        </div>
            
      </div>
    </div>
    

    <div id="main" role="main" class="container">
      <article class="post">
 <div class="space-extra-small">
 </div>

  <div class="entry">
    <p><a href="http://jekyllcn.com">jekyll</a> 是一个静态网站生成器.它通过标记语言 <a href="http://daringfireball.net/projects/markdown/">markdown</a> 或 textile 和 模板引擎 <a href="https://github.com/Shopify/liquid">liquid</a> 转换生成网页.</p>

<h2 id="section">文件结构</h2>

<h3 id="jekyllhttpjekyllrbcomdocsstructure">jekyll生成的<a href="http://jekyllrb.com/docs/structure/">文件结构</a>如下</h3>

<p><img src="/images/jekyllTree.png" alt="jekyllTree image" /></p>

<ul>
  <li><a href="http://jekyllrb.com/docs/configuration/">_config.yml</a>
   jekyll的全局配置文件。比如站点的名字等。要读取配置文件里面的内容可以</li>
</ul>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code> <span class="p">{</span> <span class="p">{</span> <span class="n">site</span><span class="p">.</span><span class="nf">baseurl</span> <span class="p">}</span> <span class="p">}</span>
 <span class="p">{</span> <span class="p">{</span> <span class="n">site</span><span class="p">.</span><span class="nf">name</span> <span class="p">}</span> <span class="p">}</span>
</code></pre>
</div>
<ul>
  <li>
    <p><a href="#"><strong>注意：</strong>  两个括号中间不能有空格。括号和百分号之间也不能有空格</a></p>

    <ul>
      <li>_includes (包含文件)
 用于保存一些html的模板文件。可以通过如下方式引入模板</li>
    </ul>
  </li>
</ul>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code>   
   <span class="p">{</span> <span class="sx">% include </span><span class="n">filename</span> <span class="o">%</span> <span class="p">}</span>

</code></pre>
</div>

<ul>
  <li>_layouts:存放html布局文件。</li>
</ul>

 	在模板中, 引入儿子的内容.

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="p">{</span> <span class="p">{</span> <span class="n">content</span> <span class="p">}</span> <span class="p">}</span>
</code></pre>
</div>
 	在儿子中,指定父节点模板

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="o">---</span>
<span class="ss">layout: </span><span class="n">post</span>
<span class="o">---</span>
</code></pre>
</div>

<ul>
  <li>
    <p><a href="http://jekyllrb.com/docs/posts">_posts</a>:存放你要发表的文章。格式YEAR-MONTH-DAY-title.MARKUP。文件名确定了发表的日期和标记语言。博客的日期格式通过_config.yml的permalink字段设置或者通过YAML FRONT Matter设置</p>
  </li>
  <li>
    <p>_data:保存数据的。jekyll会自动加载这里的所有.jml或者.yaml结尾的文件。比如你有一个members.yml。那么你可以通过site.data.members访问该文件里的数据.<a href="http://jekyllrb.com/docs/datafiles/">Data Files</a></p>
  </li>
</ul>

<p>例如创建 _data/members.yml 文件</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="o">-</span> <span class="ss">name: </span><span class="no">Eric</span> <span class="no">Mill</span>
  <span class="ss">github: </span><span class="n">konklone</span>

<span class="o">-</span> <span class="ss">name: </span><span class="no">Parker</span> <span class="no">Moore</span>
  <span class="ss">github: </span><span class="n">parkr</span>

<span class="o">-</span> <span class="ss">name: </span><span class="no">Liu</span> <span class="no">Fengyun</span>
  <span class="ss">github: </span><span class="n">liufengyun</span>
</code></pre>
</div>
<p>数据读取方式</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="p">{</span> <span class="sx">% for </span><span class="n">member</span> <span class="k">in</span> <span class="n">site</span><span class="p">.</span><span class="nf">data</span><span class="p">.</span><span class="nf">members</span> <span class="sx">%}    
    { { member.name }</span> <span class="p">}</span>     
<span class="p">{</span> <span class="sx">% endfor </span><span class="o">%</span><span class="p">}</span>
</code></pre>
</div>

<h2 id="section-1">模板语法</h2>

<h3 id="section-2">头部定义</h3>

<p><a href="http://jekyllrb.com/docs/frontmatter/">头部</a>定义主要用于指定模板(layout)和定义一些变量, 比如 标题(title), 描述(description), 分类(category/categories), tags, 是否发布(published), 自定义变量.</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="o">---</span>
<span class="ss">layout:     </span><span class="n">post</span> <span class="c1">#固定格式</span>
<span class="ss">title:      </span><span class="n">title</span>
<span class="ss">category: </span><span class="n">blog</span> 	<span class="c1">#文章分类</span>
<span class="ss">description: </span><span class="n">description</span>
<span class="ss">published: </span><span class="kp">true</span> <span class="c1"># default true  是否发布文章</span>
<span class="ss">permalink: </span><span class="sr">/aaa  #设置当前访问路由
custom: value
---
</span></code></pre>
</div>

<ul>
  <li><a href="http://jekyllrb.com/docs/variables/">变量</a>使用</li>
</ul>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">page</span><span class="p">.</span><span class="nf">title</span>
<span class="n">page</span><span class="p">.</span><span class="nf">category</span>
<span class="n">page</span><span class="p">.</span><span class="nf">custom</span>
<span class="n">page</span><span class="p">.</span><span class="nf">description</span>

</code></pre>
</div>
<p>page表示当前页</p>

<h3 id="site">全局根结点site</h3>
<p>site变量在_config.yml中配置。默认的一些变量如下</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">site</span><span class="p">.</span><span class="nf">time</span> <span class="c1">#运行 jekyll 的时间</span>
<span class="n">site</span><span class="p">.</span><span class="nf">pages</span> <span class="c1">#所有页面</span>
<span class="n">site</span><span class="p">.</span><span class="nf">posts</span> <span class="c1">#所有文章</span>
<span class="n">site</span><span class="p">.</span><span class="nf">related_posts</span> <span class="c1">#类似的10篇文章,默认最新的10篇文章,指定lsi为相似的文章</span>
<span class="n">site</span><span class="p">.</span><span class="nf">static_files</span> <span class="c1">#没有被 jekyll 处理的文章,有属性 path, modified_time 和 extname.</span>
<span class="n">site</span><span class="p">.</span><span class="nf">html_pages</span> <span class="c1">#所有的 html 页面</span>
<span class="n">site</span><span class="p">.</span><span class="nf">data</span> <span class="n">_data</span> <span class="c1">#目录下的数据</span>
<span class="n">site</span><span class="p">.</span><span class="nf">documents</span> <span class="c1">#所有 collections 里面的文档</span>
<span class="n">site</span><span class="p">.</span><span class="nf">categories</span> <span class="c1">#所有的 categorie</span>
<span class="n">site</span><span class="p">.</span><span class="nf">tags</span> <span class="c1">#所有的 tag</span>
<span class="n">site</span><span class="p">.</span><span class="nf">constum</span> <span class="c1">#自定义变量</span>
</code></pre>
</div>

<h3 id="page-">page(当前页面的配置信息) 下的变量</h3>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">page</span><span class="p">.</span><span class="nf">content</span> <span class="c1">#页面的内容</span>
<span class="n">page</span><span class="p">.</span><span class="nf">title</span> <span class="c1">#标题</span>
<span class="n">page</span><span class="p">.</span><span class="nf">excerpt</span> <span class="c1">#摘要,正文的第一段</span>
<span class="n">page</span><span class="p">.</span><span class="nf">url</span> <span class="c1">#链接</span>
<span class="n">page</span><span class="p">.</span><span class="nf">date</span> <span class="c1">#时间</span>
<span class="n">page</span><span class="p">.</span><span class="nf">id</span> <span class="c1">#唯一标示</span>
<span class="n">page</span><span class="p">.</span><span class="nf">categories</span> <span class="c1">#分类</span>
<span class="n">page</span><span class="p">.</span><span class="nf">tags</span> <span class="c1">#标签</span>
<span class="n">page</span><span class="p">.</span><span class="nf">path</span> <span class="c1">#源代码位置</span>
<span class="n">page</span><span class="p">.</span><span class="nf">next</span> <span class="c1">#下一篇文章</span>
<span class="n">page</span><span class="p">.</span><span class="nf">previous</span> <span class="c1">#上一篇文章</span>

</code></pre>
</div>

<h3 id="paginator-">paginator(分页信息) 下的变量</h3>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">paginator</span><span class="p">.</span><span class="nf">per_page</span> <span class="c1">#每一页的数量</span>
<span class="n">paginator</span><span class="p">.</span><span class="nf">posts</span> <span class="c1">#这一页的数量</span>
<span class="n">paginator</span><span class="p">.</span><span class="nf">total_posts</span> <span class="c1">#所有文章的数量</span>
<span class="n">paginator</span><span class="p">.</span><span class="nf">total_pages</span> <span class="c1">#总的页数</span>
<span class="n">paginator</span><span class="p">.</span><span class="nf">page</span> <span class="c1">#当前页数</span>
<span class="n">paginator</span><span class="p">.</span><span class="nf">previous_page</span> <span class="c1">#上一页的页数</span>
<span class="n">paginator</span><span class="p">.</span><span class="nf">previous_page_path</span> <span class="c1">#上一页的路径</span>
<span class="n">paginator</span><span class="p">.</span><span class="nf">next_page</span> <span class="c1">#下一页的页数</span>
<span class="n">paginator</span><span class="p">.</span><span class="nf">next_page_path</span> <span class="c1">#下一页的路径</span>
</code></pre>
</div>

<h2 id="section-3">其他语法</h2>

<ul>
  <li>循环</li>
</ul>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code>
<span class="p">{</span> <span class="sx">% for </span><span class="n">post</span> <span class="k">in</span> <span class="n">site</span><span class="p">.</span><span class="nf">posts</span> <span class="o">%</span> <span class="p">}</span>
     <span class="p">{</span> <span class="p">{</span> <span class="n">post</span><span class="p">.</span><span class="nf">url</span> <span class="p">}</span> <span class="p">}</span> <span class="p">{</span> <span class="p">{</span> <span class="n">post</span><span class="p">.</span><span class="nf">title</span> <span class="p">}</span> <span class="p">}</span>
      <span class="p">{</span> <span class="p">{</span> <span class="n">post</span><span class="p">.</span><span class="nf">excerpt</span> <span class="o">|</span> <span class="ss">remove: </span><span class="s1">'test'</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">{</span> <span class="sx">% endfor </span><span class="o">%</span> <span class="p">}</span>

<span class="p">{</span> <span class="sx">% for </span><span class="n">post</span> <span class="k">in</span> <span class="n">site</span><span class="p">.</span><span class="nf">posts</span> <span class="n">limit</span><span class="p">:</span><span class="mi">20</span> <span class="n">offset</span><span class="p">:</span><span class="mi">10</span> <span class="n">reversed</span> <span class="o">%</span> <span class="p">}</span>
<span class="c1">#code</span>
<span class="p">{</span> <span class="sx">% endfor </span><span class="o">%</span> <span class="p">}</span>
</code></pre>
</div>

<ul>
  <li>判断
    <ul>
      <li>and 且</li>
      <li>or 或</li>
      <li>contains 包含</li>
    </ul>
  </li>
</ul>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="p">{</span> <span class="sx">% if </span><span class="n">page</span><span class="p">.</span><span class="nf">excerpt</span> <span class="o">%</span> <span class="p">}</span>
    <span class="p">{</span> <span class="p">{</span> <span class="n">page</span><span class="p">.</span><span class="nf">excerpt</span><span class="o">|</span> <span class="n">strip_html</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">{</span> <span class="sx">% elsif </span><span class="n">page</span><span class="p">.</span><span class="nf">description</span> <span class="o">%</span> <span class="p">}</span>
    
<span class="p">{</span> <span class="sx">% else </span><span class="o">%</span><span class="p">}</span>
    <span class="p">{</span> <span class="p">{</span> <span class="n">site</span><span class="p">.</span><span class="nf">description</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">{</span> <span class="sx">% endif </span><span class="o">%</span><span class="p">}</span>
</code></pre>
</div>

<ul>
  <li>赋值</li>
</ul>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="p">{</span> <span class="sx">% assign </span><span class="n">index</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">%</span> <span class="p">}</span>
<span class="p">{</span> <span class="sx">% assign </span><span class="n">nick</span> <span class="o">=</span> <span class="n">member</span><span class="p">.</span><span class="nf">nick</span> <span class="sx">%}
</span></code></pre>
</div>

<ul>
  <li>删除指定文本
    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="p">{</span> <span class="p">{</span> <span class="n">post</span><span class="p">.</span><span class="nf">url</span> <span class="o">|</span> <span class="ss">remove: </span><span class="s1">'http'</span> <span class="p">}</span> <span class="p">}</span>
</code></pre>
    </div>
  </li>
  <li>删除 html 标签
    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="p">{</span> <span class="p">{</span> <span class="n">post</span><span class="p">.</span><span class="nf">excerpt</span> <span class="o">|</span> <span class="n">strip_html</span> <span class="p">}</span> <span class="p">}</span>
</code></pre>
    </div>
  </li>
  <li>代码高亮</li>
</ul>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="p">{</span> <span class="sx">% highlight </span><span class="n">swift</span> <span class="n">linenos</span> <span class="o">%</span> <span class="p">}</span>
 <span class="c1"># some swift code</span>
<span class="p">{</span> <span class="sx">% endhighlight </span><span class="o">%</span> <span class="p">}</span>
</code></pre>
</div>


  </div>

  
</article>


    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
            <div class="svg-icon">
          
<a href="mailto:991761652@qq.com"><i class="icon-envelope icon-2x"></i></a>

<a href="https://github.com/shenfh"><i class="icon-github icon-2x"></i></a>


<a href="http://weibo.com/u/5083502551"><i class="icon-pinterest-sign icon-2x"></i></a>
            </div>
        </footer>
      </div>
    </div>


    







  </body>
</html>
